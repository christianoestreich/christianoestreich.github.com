
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Christian Oestreich</title>
  <meta name="author" content="Christian Oestreich">

  
  <meta name="description" content="In lieu of my upcoming presentation for the DevJam lightning talks I
wanted to put out a quick presentation I recently made on creating jQuery &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.christianoestreich.com/blog/page/4/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds.feedburner.com/ctoestreich" rel="alternate" title="Christian Oestreich" type="application/atom+xml">
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">


  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-8726967-3']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Christian Oestreich</a></h1>
  <h2><a class="brand" href="http://www.twoguysindesign.com" style="color:#9ed846;text-decoration: none;"><i class="fa fa-male fa-border"></i>&nbsp;<i class="fa fa-male fa-border"></i>&nbsp;&nbsp;two guys in design</a> - software.development.professional</h2>

  <div class="clear"></div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/ctoestreich" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.christianoestreich.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
    <li><a href="/">Blog</a></li>
    <li><a href="/blog/archives">Archives</a></li>
    <li><a href="/blog/categories/grails/index.html">Grails</a></li>
    <li><a href="/blog/categories/groovy/index.html">Groovy</a></li>
    <li><a href="/blog/categories/javascript/index.html">JavaScript</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/2011/05/jquery-widgets-presentation/">jQuery Widgets Presentation</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2011-05-26T14:29:59+00:00" pubdate data-updated="true">May 26<span>th</span>, 2011</time>
        
         | <a href="/2011/05/jquery-widgets-presentation/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In lieu of my upcoming presentation for the <a href="http://devjam.com/" title="DevJam">DevJam</a> lightning talks I
wanted to put out a quick presentation I recently made on creating <a href="http://www.jquery.com" title="jQuery">jQuery</a>
Widgets.  It is hopefully pretty easy to follow.  Feel free to use any code or
ideas as you see fit.</p>

<p><a href="http://www.christianoestreich.com:8080/jquery_widget">http://www.christianoestreich.com:8080/jquery_widget</a></p>

<p>Widget)</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/2011/05/jquery-memory-leak-frustration/">jQuery Memory Leak Frustration</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2011-05-18T21:45:55+00:00" pubdate data-updated="true">May 18<span>th</span>, 2011</time>
        
         | <a href="/2011/05/jquery-memory-leak-frustration/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Recently at work we ran into a hard to track down issue with Internet Explorer
6. Every page load we were seeing about 10mb of memory being retained in the
browser. We had no idea where to start and since there were several hundreds
of commits to the code and data structures we had a tough time finding the
culprit.</p>

<p>We initially thought the problem was the Sencha ExtJS Grid we were using.
Between the four of us working on it we finally reverted the jQuery 1.5.1
upgrade we had made and found the problem disappeared. Initially we reverted
to 1.4.3, but found that 1.5 also didn&rsquo;t cause the problem. All future version
from 1.5.1 to 1.6.1 caused the same issue.</p>

<p>We found some information about how IE6 didn&rsquo;t like the modal: true of the
ui.dialog widget. We set that boolean to false and it seemed to clear up the
issue with 1.5.1, but we were duped by IE6 for a short time as the problem
only seemed to disappear until after we deployed to production. We reverted
the modal setting and went back to jQuery 1.5 and all was cleared up.</p>

<p>I am a huge fan of jQuery and love how amazingly simple doing really cool
stuff is, but I was a bit erked that something so non-trivial was introduced
and remains through another major release of the framework.</p>

<p>I understand that testing all browsers, and especially IE6, might be
difficult&hellip; but the &ldquo;write less do more&rdquo; only goes so far when your end users
can&rsquo;t use your application after 15 minutes.  When sites like Google stop
supporting IE6, you know that your platform is old. Perhaps my frustration
over jQuery is better vetted against the ridiculous corporate oppression of
adopting technology newer than 10 years old.</p>

<p>I did write another widget today that extends the autocomplete box which
supports invoking both urls with normal data params or in a restful style with
very little effort&hellip; so I guess I am over it.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/2011/05/testing-grails-rest-services/">Testing Grails REST Services</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2011-05-06T09:33:10+00:00" pubdate data-updated="true">May 6<span>th</span>, 2011</time>
        
         | <a href="/2011/05/testing-grails-rest-services/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Recently I needed to run a simulated load test on some rest services to see
what the memory footprint would be as I varied my cache size and strategy.  I
looked for a good tool to do this and couldn&rsquo;t really find anything that fit
my need easily.  I liked the SOAP UI test runner, but I couldn&rsquo;t quite get it
working like I wanted.</p>

<p>I ended up writing a script that I can run from the grails shell to invoke the
REST service using an xml data file to hold the IDs of the objects I wanted to
load.   I played around with the idea of just grabbing the items from the DB,
but I really wanted to minimize the impact on the application during the
loading so I grabbed all the data from dbvis and exported it into an XML file
that I slurp in through groovy.</p>

<p>I took the script one step farther and implemented gpars as well to try and
speed up the load.  There were some issues with the server becoming inundated
with too many requests so I added a 100ms sleep to every request.  I still
need to tune that to get the best throughput without causing the server to
throw exceptions from having unavailable listener threads.</p>

<p><em><strong>Note</strong>: I changed some of the data in these scripts to use dummy names and
paths as to not violate any corp policies.</em></p>

<p>I created a script and put it under scripts\performance\MyScript.groovy
(obviously not called MyScript, but you get the point).  By wrapping the
script in a closure with the .call() at the end, this will run the default
method when we execute load.  There might be better ways to do this, but I
found it to work quite nicely.  I would suggest moving the thread size to the
config file as it would be easier to change on the fly that way without
recompiling the script.  The grails shell isn&rsquo;t as hot-swap friendly as the
running grails tomcat/jetty instance.  I had some profiling around the code
execution, but when I had to add the sleep, I took it out.  I can see cases
for these scripts where adding it back would be useful.</p>

<p>The script contains the following code.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="kn">import</span> <span class="nn">static</span> <span class="n">groovyx</span><span class="o">.</span><span class="na">gpars</span><span class="o">.</span><span class="na">GParsPool</span><span class="o">.</span><span class="na">withPool</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">org.codehaus.groovy.grails.commons.ConfigurationHolder</span> <span class="k">as</span> <span class="n">CH</span>
</span><span class='line'>
</span><span class='line'><span class="kt">def</span> <span class="n">blahStressTest</span> <span class="o">=</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">String</span> <span class="n">path</span> <span class="o">=</span> <span class="n">CH</span><span class="o">.</span><span class="na">config</span><span class="o">.</span><span class="na">dataDir</span> <span class="o">+</span> <span class="n">File</span><span class="o">.</span><span class="na">separator</span> <span class="o">+</span> <span class="s2">&quot;mydata.xml&quot;</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">println</span> <span class="s2">&quot;Loading ${path}..&quot;</span>
</span><span class='line'>
</span><span class='line'>    <span class="kt">def</span> <span class="n">theData</span> <span class="o">=</span> <span class="k">new</span> <span class="n">XmlSlurper</span><span class="o">().</span><span class="na">parseText</span><span class="o">(</span><span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="n">path</span><span class="o">).</span><span class="na">text</span><span class="o">)</span>
</span><span class='line'>    <span class="kt">def</span> <span class="n">size</span> <span class="o">=</span> <span class="n">theData</span><span class="o">.</span><span class="na">ROWSET</span><span class="o">.</span><span class="na">ROW</span><span class="o">.</span><span class="na">size</span><span class="o">()</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">withPool</span><span class="o">(</span><span class="mi">3</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">medData</span><span class="o">.</span><span class="na">ROWSET</span><span class="o">.</span><span class="na">ROW</span><span class="o">.</span><span class="na">eachWithIndexParallel</span> <span class="o">{</span> <span class="n">object</span><span class="o">,</span> <span class="n">index</span> <span class="o">-&gt;</span>
</span><span class='line'>                    <span class="k">try</span><span class="o">{</span>
</span><span class='line'>                            <span class="kt">def</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s2">&quot;${CH.config.grails.serverURL}/resturl/${object}&quot;</span><span class="o">).</span><span class="na">text</span>
</span><span class='line'>                <span class="k">if</span> <span class="o">(</span><span class="n">index</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="n">println</span> <span class="s2">&quot;${Thread.currentThread().name} - ${index} of ${size}&quot;</span>
</span><span class='line'>                            <span class="n">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="mi">100</span><span class="o">)</span>
</span><span class='line'>                    <span class="o">}</span> <span class="k">catch</span><span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">){</span>
</span><span class='line'>                            <span class="n">println</span> <span class="s2">&quot;exception ${e.message}&quot;</span>
</span><span class='line'>                    <span class="o">}</span>
</span><span class='line'>            <span class="o">}</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">println</span> <span class="s2">&quot;completed&quot;</span>
</span><span class='line'><span class="o">}.</span><span class="na">call</span><span class="o">()</span>
</span></code></pre></td></tr></table></div></figure>


<p>I added the following to the config and put a different path under each
environment section as the directory structure is a bit different in each. I
really have no need to run this in prod for now, but I might in the future.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="n">environments</span> <span class="o">{</span>
</span><span class='line'>  <span class="n">production</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">grails</span><span class="o">.</span><span class="na">serverURL</span> <span class="o">=</span> <span class="s2">&quot;https://url&quot;</span>
</span><span class='line'>    <span class="n">logDirectory</span> <span class="o">=</span> <span class="s2">&quot;/unix/path/logs&quot;</span>
</span><span class='line'>    <span class="n">dataDir</span> <span class="o">=</span> <span class="s2">&quot;/unix/projects/myproject/scripts/performance&quot;</span>
</span><span class='line'> <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">development</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">grails</span><span class="o">.</span><span class="na">serverURL</span> <span class="o">=</span> <span class="s2">&quot;http://localhost:8080/${appName}&quot;</span>
</span><span class='line'>    <span class="n">logDirectory</span> <span class="o">=</span> <span class="s2">&quot;/windows/path/log&quot;</span>
</span><span class='line'>    <span class="n">dataDir</span> <span class="o">=</span> <span class="s2">&quot;c:/projects/myproject/scripts/performance&quot;</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">test</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">grails</span><span class="o">.</span><span class="na">serverURL</span> <span class="o">=</span> <span class="s2">&quot;http://testserver:8080/${appName}&quot;</span>
</span><span class='line'>    <span class="n">logDirectory</span> <span class="o">=</span> <span class="s2">&quot;/unix/path/logs&quot;</span>
</span><span class='line'>    <span class="n">dataDir</span> <span class="o">=</span> <span class="s2">&quot;/unix/projects/myproject/scripts/performance&quot;</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>My xml file is in the same directory as the scripts for now.  It just has some
data that looks like this (as exported directly from dbvis).</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;MyData&gt;</span>
</span><span class='line'><span class="nt">&lt;ROWDATA&gt;</span>
</span><span class='line'><span class="nt">&lt;ROW&gt;</span>
</span><span class='line'><span class="nt">&lt;ID&gt;</span>123<span class="nt">&lt;/ID&gt;</span>
</span><span class='line'><span class="nt">&lt;/ROW&gt;</span>
</span><span class='line'><span class="nt">&lt;ROW&gt;</span>
</span><span class='line'><span class="nt">&lt;ID&gt;</span>1234<span class="nt">&lt;/ID&gt;</span>
</span><span class='line'><span class="nt">&lt;/ROW&gt;</span>
</span><span class='line'>...
</span><span class='line'><span class="nt">&lt;/ROWDATA&gt;</span>
</span><span class='line'><span class="nt">&lt;/MyData&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>I really just wanted to load up all the objects in cache without any object
misses.  I tried doing a 1..100000 type operation, but the IDs of the data I
am using are not very sequential and skip around a bit.</p>

<p>I launched the grails shell using (use which ever env you want to run it for):</p>

<pre><code>grails dev shell
</code></pre>

<p>Once launched I simply type</p>

<pre><code>load scripts\performance\MyScript.groovy
</code></pre>

<p>This technique could come in handy for testing other types of rest/url actions
as well.  I originally had created another controller that would use the rest
plugin&rsquo;s withHttp method to invoke the site, but found that to be a bit clunky
and I didn&rsquo;t like being forced to use up one of my browser tabs to run the
script. :)</p>

<p>I used the <a href="http://www.grails.org/plugin/grails-melody" title="Grails Melody Plugin">grails melody plugin</a> to see the cache sizes and memory foot
print.  Definitely an awesome plugin!</p>

<p>FYI: To configure the spring cache plugin manually you need to add a file
under the cong\spring folder called resources and add some code like the
following:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="kn">import</span> <span class="nn">grails.plugin.springcache.web.key.WebContentKeyGenerator</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">org.springframework.cache.ehcache.EhCacheFactoryBean</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// Place your Spring DSL code here</span>
</span><span class='line'><span class="n">beans</span> <span class="o">=</span> <span class="o">{</span>
</span><span class='line'>   <span class="n">MyCache</span><span class="o">(</span><span class="n">EhCacheFactoryBean</span><span class="o">)</span> <span class="o">{</span> <span class="n">bean</span> <span class="o">-&gt;</span>
</span><span class='line'>    <span class="n">cacheManager</span> <span class="o">=</span> <span class="n">ref</span><span class="o">(</span><span class="s2">&quot;springcacheCacheManager&quot;</span><span class="o">)</span>
</span><span class='line'>    <span class="n">cacheName</span> <span class="o">=</span> <span class="s2">&quot;MyCache&quot;</span>
</span><span class='line'>    <span class="n">eternal</span> <span class="o">=</span> <span class="kc">true</span>
</span><span class='line'>    <span class="n">diskPersistent</span> <span class="o">=</span> <span class="kc">false</span>
</span><span class='line'>    <span class="n">memoryStoreEvictionPolicy</span> <span class="o">=</span> <span class="s2">&quot;LRU&quot;</span>
</span><span class='line'>    <span class="n">maxElementsInMemory</span> <span class="o">=</span> <span class="mi">100000</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Anywhere you use the @Cachable(&ldquo;MyCache&rdquo;) it will use this configuration
instead of the default.</p>

<p>Good Luck.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/2011/05/gmetrics-codenarc-for-grails/">Gmetrics & Codenarc Script for Grails</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2011-05-02T16:51:08+00:00" pubdate data-updated="true">May 2<span>nd</span>, 2011</time>
        
         | <a href="/2011/05/gmetrics-codenarc-for-grails/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I really wanted to get our project working with sonar and grails.  After some
searching I found very few people that had this working.  Actually I only
found one <a href="http://blog.octo.com/en/analyzing-groovy-grails-code/">here</a>.  I tried doing this by adding the pom.xml and invoking
the mvn sonar:sonar target.  Maven got to the end and threw an exception.  I
spent the better part of a day working on this and poking around at the pom
file and finally gave up.</p>

<h2>Setting Up The Environment</h2>

<p>All the <a href="https://github.com/ctoestreich/jenkins-sandbox" title="Source Code">source code</a> for this can be found at GitHub.  You can pull it
down via the command:</p>

<pre><code>git clone git@github.com:ctoestreich/jenkins-sandbox.git
</code></pre>

<p>I decided to go with using cobertura, <a href="http://www.grails.org/plugin/gmetrics" title="Gmetrics Plugin">gmetrics</a> and <a href="http://www.grails.org/plugin/codenarc" title="Codenarc Plugin">codenarc</a> for
reporting on the code.  You need to first add the plugins to your project
using the following commands</p>

<pre><code>grails install-plugin coverage
grails install-plugin gmetrics
grails install-plugin codenarc
</code></pre>

<p>I ran the default targets for gmetrics and codenarc and they both produced
html&hellip; ugly html.  I was hoping the default output would be a little more
like the sonar dashboard; perhaps a little more web 2.0-ish.  Luckily I ran
across a couple <a href="http://mrhaki.blogspot.com/2011/01/groovy-goodness-create-codenarc-reports.html" title="mrhaki">blog posts</a> by <a href="http://www.mrhaki.com/about/">Herbert Ikkink (mrhaki)</a>.  The posts
had some nice xslt to html transformation and style sheets attached to them.
I took the work mrhaki had done and went one step further and created a grails
build target to generate the output for both gmetrics and codenarc and publish
the results through Jenkins.</p>

<h2>Creating The Script</h2>

<p>I had first tried to consume the codenarc xml using the violations plugin for
Jenkins, but that was puking all over itself, so I opted for making both
reports simple HTML reports.</p>

<p>First I needed to create a script in grails by running</p>

<pre><code>grails create-script CodeReports
</code></pre>

<p>Then I added the following code to the grails-app\scripts\CodeReports.groovy
file</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="n">includeTargets</span> <span class="o">&lt;&lt;</span> <span class="n">grailsScript</span><span class="o">(</span><span class="s1">&#39;Init&#39;</span><span class="o">)</span>
</span><span class='line'><span class="n">includeTargets</span> <span class="o">&lt;&lt;</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="s2">&quot;${codenarcPluginDir}/scripts/Codenarc.groovy&quot;</span><span class="o">)</span>
</span><span class='line'><span class="n">includeTargets</span> <span class="o">&lt;&lt;</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="s2">&quot;${gmetricsPluginDir}/scripts/Gmetrics.groovy&quot;</span><span class="o">)</span>
</span><span class='line'><span class="n">configClassname</span> <span class="o">=</span> <span class="s1">&#39;Config&#39;</span>
</span><span class='line'><span class="n">target</span><span class="o">(</span><span class="nl">main:</span> <span class="s2">&quot;Add some style to the gmetrics report&quot;</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>  <span class="n">depends</span><span class="o">(</span><span class="n">compile</span><span class="o">,</span> <span class="n">codenarc</span><span class="o">,</span> <span class="n">gmetrics</span><span class="o">)</span>
</span><span class='line'>  <span class="n">stylizeGmetrics</span><span class="o">()</span>
</span><span class='line'>  <span class="n">stylizeCodenarc</span><span class="o">()</span>
</span><span class='line'>   <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>   <span class="kd">private</span> <span class="kt">void</span> <span class="nf">stylizeGmetrics</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>  <span class="n">println</span> <span class="s2">&quot;add some style to the gmetrics report&quot;</span>
</span><span class='line'>  <span class="n">ant</span><span class="o">.</span><span class="na">mkdir</span><span class="o">(</span><span class="nl">dir:</span> <span class="s1">&#39;target/gmetrics&#39;</span><span class="o">)</span>
</span><span class='line'>  <span class="n">ant</span><span class="o">.</span><span class="na">xslt</span> <span class="nl">style:</span> <span class="s2">&quot;reports/gmetrics.xslt&quot;</span><span class="o">,</span> <span class="nl">out:</span> <span class="s2">&quot;target/gmetrics/gmetrics.html&quot;</span><span class="o">,</span> <span class="k">in</span><span class="o">:</span> <span class="s1">&#39;target/gmetrics.xml&#39;</span>
</span><span class='line'>  <span class="n">ant</span><span class="o">.</span><span class="na">copy</span><span class="o">(</span><span class="nl">todir:</span> <span class="s1">&#39;target/gmetrics&#39;</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">fileset</span><span class="o">(</span><span class="nl">dir:</span> <span class="s1">&#39;reports&#39;</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>      <span class="n">include</span> <span class="nl">name:</span> <span class="s1">&#39;default.css&#39;</span>
</span><span class='line'>      <span class="n">include</span> <span class="nl">name:</span> <span class="s1">&#39;*.png&#39;</span>
</span><span class='line'>      <span class="n">include</span> <span class="nl">name:</span> <span class="s1">&#39;*.gif&#39;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="kd">private</span> <span class="kt">void</span> <span class="nf">stylizeCodenarc</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>  <span class="n">println</span> <span class="s2">&quot;Add some style to the codenarc report&quot;</span>
</span><span class='line'>  <span class="n">ant</span><span class="o">.</span><span class="na">mkdir</span><span class="o">(</span><span class="nl">dir:</span> <span class="s1">&#39;target/codenarc&#39;</span><span class="o">)</span>
</span><span class='line'>  <span class="n">ant</span><span class="o">.</span><span class="na">xslt</span> <span class="nl">style:</span> <span class="s2">&quot;reports/codenarc.xslt&quot;</span><span class="o">,</span> <span class="nl">out:</span> <span class="s2">&quot;target/codenarc/codenarc.html&quot;</span><span class="o">,</span> <span class="k">in</span><span class="o">:</span> <span class="s1">&#39;target/codenarc.xml&#39;</span>
</span><span class='line'>  <span class="n">ant</span><span class="o">.</span><span class="na">copy</span><span class="o">(</span><span class="nl">todir:</span> <span class="s1">&#39;target/codenarc&#39;</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">fileset</span><span class="o">(</span><span class="nl">dir:</span> <span class="s1">&#39;reports&#39;</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>      <span class="n">include</span> <span class="nl">name:</span> <span class="s1">&#39;default.css&#39;</span>
</span><span class='line'>      <span class="n">include</span> <span class="nl">name:</span> <span class="s1">&#39;*.png&#39;</span>
</span><span class='line'>      <span class="n">include</span> <span class="nl">name:</span> <span class="s1">&#39;*.gif&#39;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="n">setDefaultTarget</span><span class="o">(</span><span class="n">main</span><span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>This new script can be called at the command line by running</p>

<pre><code>grails code-reports
</code></pre>

<p>Some interesting caveats to note.  The paths to the plugins won&rsquo;t resolve
until you run compile at least one time.  So make sure you invoke the compile
target directly or through another script like test-app to get the paths all
set up in grails <em><strong>before </strong></em> calling code-reports.  I also had some issues
with out-of-date plugins and had to blow away the grails 1.3.6 working
directory to get this to work on local machine and ubuntu (build server) for
my demo project.  It worked no problem on another project&hellip; go figure.  Just
go to C:\Documents and Settings[your user].grails[grails
version]\projects[project name] and remove the [project name] dir (where
[project name] if the name of your project, etc).  On my build box the dir is
/usr/share/tomcat6/.grails/1.3.6/projects/[project name].</p>

<h2>Additional Required Settings</h2>

<p>Add the code below at the end of _grails-app\conf\Config.groovy. _ This will
set up gmetrics and codenarc to produce xml instead of HTML and set the output
for the xml files.  Also I didn&rsquo;t want to scan my test code.  You might want
scan your integration and unit test code to so you can remove those lines or
set them to true.  I am also using a custom codenarc.properties file to
exclude certain patterns.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="n">gmetrics</span><span class="o">.</span><span class="na">reportType</span> <span class="o">=</span> <span class="s1">&#39;org.gmetrics.report.XmlReportWriter&#39;</span>
</span><span class='line'><span class="n">gmetrics</span><span class="o">.</span><span class="na">outputFile</span> <span class="o">=</span> <span class="s1">&#39;target/gmetrics.xml&#39;</span>
</span><span class='line'><span class="n">gmetrics</span><span class="o">.</span><span class="na">processTestUnit</span> <span class="o">=</span> <span class="kc">false</span>
</span><span class='line'><span class="n">gmetrics</span><span class="o">.</span><span class="na">processTestIntegration</span> <span class="o">=</span> <span class="kc">false</span>
</span><span class='line'><span class="n">codenarc</span><span class="o">.</span><span class="na">reportType</span><span class="o">=</span><span class="s1">&#39;xml&#39;</span>
</span><span class='line'><span class="n">codenarc</span><span class="o">.</span><span class="na">reportName</span><span class="o">=</span><span class="s1">&#39;target/codenarc.xml&#39;</span>
</span><span class='line'><span class="n">codenarc</span><span class="o">.</span><span class="na">processTestUnit</span> <span class="o">=</span> <span class="kc">false</span>
</span><span class='line'><span class="n">codenarc</span><span class="o">.</span><span class="na">processTestIntegration</span> <span class="o">=</span> <span class="kc">false</span>
</span><span class='line'><span class="n">codenarc</span><span class="o">.</span><span class="na">propertiesFile</span> <span class="o">=</span> <span class="s1">&#39;codenarc.properties&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>I added the codenarc.properties at the root of the project folder (same dir as
application.properties).  It has one line.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="n">GrailsStatelessService</span><span class="o">.</span><span class="na">ignoreFieldNames</span><span class="o">=</span><span class="n">dataSource</span><span class="o">,</span><span class="n">scope</span><span class="o">,</span><span class="n">sessionFactory</span><span class="o">,</span><span class="n">transactional</span><span class="o">,*</span><span class="n">Service</span><span class="o">,</span><span class="n">messageSource</span><span class="o">,</span><span class="n">s3Credential</span><span class="o">,</span><span class="n">applicationContext</span><span class="o">,</span><span class="n">expose</span><span class="o">,</span><span class="n">profiled</span>
</span></code></pre></td></tr></table></div></figure>


<p>Add the code below to the end of <em>grails-app\conf\BuildConfig.groovy. </em>This
sets the coverage report to xml for Jenkins to process and excludes the tests.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="n">coverage</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">xml</span> <span class="o">=</span> <span class="kc">true</span>
</span><span class='line'>    <span class="n">exclusions</span> <span class="o">=</span> <span class="o">[</span><span class="s2">&quot;**/*Tests*&quot;</span><span class="o">]</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>I created a directory at the root of the application called reports to hold my
report artifacts and xslt files.  These are the files that were provided by
<a href="http://mrhaki.blogspot.com">mrhaki</a>.  You can change the logo to whatever you want or muddle with the
css as it suits you.  There are few image files that you can grab from my
<a href="https://github.com/ctoestreich/jenkins-sandbox/tree/master/reports">github</a> in addition to the following.</p>

<p><a href="https://github.com/ctoestreich/jenkins-sandbox/blob/master/reports/codenarc.xslt">reports\codenarc.xslt</a>
<a href="https://github.com/ctoestreich/jenkins-sandbox/blob/master/reports/gmetrics.xslt">reports\gmetrics.xslt</a>
<a href="https://github.com/ctoestreich/jenkins-sandbox/blob/master/reports/default.css">reports\default.css</a></p>

<p>So with the script created I ran the following scripts locally to test the
output</p>

<pre><code>grails test-app -coverage
grails code-reports
</code></pre>

<p>You should get some output in your target dir like the following</p>

<p><a href="http://www.christianoestreich.com/wp-content/uploads/2011/05/code_reports_output.png"><img src="http://www.christianoestreich.com/wp-content/uploads/2011/05/code_reports_output.png" title="code_reports_output" alt="" /></a></p>

<p>Once all that is working we can get to setting up Jenkins.</p>

<h2>Setting Up Jenkins</h2>

<p>I am assuming you are at least a bit familiar with Jenkins and are already
building your grails application with it.  You will need to add the following
two plugins</p>

<p><a href="http://wiki.hudson-ci.org/display/HUDSON/Cobertura+Plugin">Cobertura Plugin</a></p>

<p><a href="http://wiki.hudson-ci.org/display/HUDSON/Cobertura+Plugin"></a><a href="http://wiki.hudson-ci.org/display/HUDSON/HTML+Publisher+Plugin">HTML Publisher plugin</a></p>

<p>You will then need to go to the project admin screen and add code-reports to
your target for your grails build.  Here is mine:</p>

<pre><code>clean "test-app -coverage --non-interactive" code-reports
</code></pre>

<p><a href="http://www.christianoestreich.com/wp-content/uploads/2011/05/build_target.png"><img src="http://www.christianoestreich.com/wp-content/uploads/2011/05/build_target.png" title="Build Target" alt="" /></a></p>

<p>You will then need to add the following to the html report output section and
coverage configuration to get the reports to show up on the home page of the
build.</p>

<p><a href="http://www.christianoestreich.com/wp-content/uploads/2011/05/report_target.png"><img src="http://www.christianoestreich.com/wp-content/uploads/2011/05/report_target.png" title="Report Target" alt="" /></a></p>

<p>You should see the areas marked in the red boxes show up on your build</p>

<p><a href="http://www.christianoestreich.com/wp-content/uploads/2011/05/jenkins_dashboard.png"><img src="http://www.christianoestreich.com/wp-content/uploads/2011/05/jenkins_dashboard.png" title="Jenkins Dashboard" alt="" /></a></p>

<p>I really like the output format that <a href="http://mrhaki.blogspot.com">mrhaki</a> produced.  Until there is a
better integrated solution with sonar, this is golden.</p>

<p>Here are the report samples</p>

<p><a href="http://www.christianoestreich.com/wp-content/uploads/2011/05/report_sample1.png"><img src="http://www.christianoestreich.com/wp-content/uploads/2011/05/report_sample1.png" title="Report Sample Gmetrics" alt="" /></a></p>

<p><a href="http://www.christianoestreich.com/wp-content/uploads/2011/05/report_sample2.png"><img src="http://www.christianoestreich.com/wp-content/uploads/2011/05/report_sample2.png" title="Report Sample Codenarc" alt="" /></a></p>

<p>The actual source code that I wrote I neither claim to be useful or
entertaining, use at your own enjoyment.</p>

<p>All the <a href="https://github.com/ctoestreich/jenkins-sandbox" title="Source Code">source code</a> for this can be found at GitHub.  You can pull it
down via the command:</p>

<pre><code>git clone git@github.com:ctoestreich/jenkins-sandbox.git
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/2011/05/tuesday-night-worlds-4192011/">Tuesday Night Worlds - 4/19/2011</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2011-05-02T13:58:43+00:00" pubdate data-updated="true">May 2<span>nd</span>, 2011</time>
        
         | <a href="/2011/05/tuesday-night-worlds-4192011/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Another week&hellip; another race.  The crowd was a little bit thinner for this
race as the weather was a warm 36F.  With the absence of Patrick and his
rockets, the group stayed a little more tightly coupled.  Colin was also
absent leaving just Mitch, Chris and myself to represent team OptumHealth
Performance.</p>

<p>On the first sprint lap I decided to take the outside line and Chris grabbed
onto my rear wheel.  I death pulled him for a half lap.  I quickly petered out
up the hill but Chris had enough gas to go hard to the finish line and earn
the teams first 5 points with a first place sprint lap victory.  After the
pull I was struggling to regain the group and didn&rsquo;t reconnect for two laps.
I really tried to use the downhills to my advantage to cover distance.</p>

<p>None of us really had any juice to go for the second sprint lap.  It was just
enough to hang onto the group until the last lap.  We tried the best we could
to get into position for the last lap.</p>

<p>At the bell Chris and I were somewhere in the 6-9 range.  The group quickly
became a single file pace line and we just grabbed a wheel and rode the line
until the uphill portion.  Everyone got up and started sprinting.  I couldn&rsquo;t
make up any ground, but I didn&rsquo;t lose any either.  Chris managed a 3rd place
finish and earned another 2 points.  Overall it was definitely a good night
for the team and especially Chris.</p>

<p>I finished 7th overall and that felt pretty good for the 2nd criterium of my
racing career.  I will respect Mitch&rsquo;s feelings and not talk about where he
finished the event.  I think his wheel fell off this time or something?!</p>

<p>[caption id=&ldquo;attachment_99&rdquo; align=&ldquo;aligncenter&rdquo; width=&ldquo;702&rdquo;
caption=&ldquo;OptumHealth Performance Team (Mitch Talbot, Chris Frykman, Patrick
Parish, Colin Jaworski, Christian Oestreich) &rdquo;]<a href="http://www.christianoestreich.com/wp-"><img src="http://www.christianoestreich.com/wp-" alt="" /></a>[/caption]</p>

<p>content/uploads/2011/05/optumhealth_performance_team.jpg (OptumHealth
Performance Team)</p>

<p>content/uploads/2011/05/optumhealth_performance_team.jpg</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/2011/04/mixing-grails-groovy-scala-java/">Mixing Grails, Groovy, Scala & Java</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2011-04-14T11:59:14+00:00" pubdate data-updated="true">Apr 14<span>th</span>, 2011</time>
        
         | <a href="/2011/04/mixing-grails-groovy-scala-java/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>As I have mentioned earlier, I am a huge fan of grails and would love to ditch
our existing java/spring/custom code framework and move to grails
holistically.  A few of our senior people on the team really want to move to
scala to get rid of a lot of the clutter code we write in our java stacks.  To
further the grails cause, I decided to see if I could get the <a href="http://grails.org/plugin/scala" title="Grails Scala Plugin">scala
plugin</a> for grails working and see how deeply I could integrate the scala
code into the application.  While I was at it I decided that I might as well
throw in java as well for giggles.  I really like both <a href="http://groovy.codehaus.org/" title="Groovy">groovy</a> and
<a href="http://www.scala-lang.org/" title="Scala">scala</a>.  Each language has its advantages, but there is a general
consensus on the team at work that the statically typed scala would be better
for our inline conversion of existing java code.</p>

<h2>Setting Up The Environment</h2>

<p>All the <a href="https://github.com/ctoestreich/grails-scala" title="Source Code">source code</a> for this can be found at GitHub.  You can pull it
down via the command:</p>

<pre><code>git clone git@github.com:ctoestreich/grails-scala.git
</code></pre>

<p>I am assuming you will be using IntelliJ (as it is my favorite IDE).  If you
are using Eclipse you will be on your own for a lot of the set up pieces.  I
am also assuming you have grails already setup on your machine correctly.  The
first thing to do is install the scala plugin for grails via the following
grails command:</p>

<pre><code>grails install-plugin scala
</code></pre>

<p>If you are using <a href="http://www.jetbrains.com/idea/" title="IntelliJ IDE">IntelliJ</a>, you should also install the scala plugin for
IDEA</p>

<p><a href="http://build.christianoestreich.com/wp-content/uploads/2011/04/install_scala_plugin.png"><img src="http://build.christianoestreich.com/wp-content/uploads/2011/04/install_scala_plugin.png" title="Install Scala Plugin" alt="Install Scala Plugin" /></a></p>

<h2>Starting The Coding</h2>

<p>I started the coding and realized that I needed to be conscious about what
type of objects inherited from what type of interfaces/traits.  I initially
tried having everything inherit from a Java Interface.  This solution compiled
and worked okay.  I then moved to trying to get everything to extend a groovy
interface.  The code exploded.  It was immediately obvious that the scalac
command was run first and compiling the scala and java sources before groovy.
Having the java and scala extend a groovy interface wasn&rsquo;t going to work.  In
the end I decided to go with a scala trait due to its enhanced functionality
and support in scala and standard java interface usage.  I spent the majority
of my time fuddling with this compilation order problem and getting the three
languages to compile nicely together.</p>

<p><a href="http://build.christianoestreich.com/wp-content/uploads/2011/04/save_interface.png"><img src="http://build.christianoestreich.com/wp-content/uploads/2011/04/save_interface.png" title="Save Interface" alt="" /></a></p>

<p>First I defined a scala trait.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="k">package</span> <span class="nn">com.far.scape.scala</span>
</span><span class='line'><span class="k">trait</span> <span class="nc">Cast</span> <span class="o">{</span>
</span><span class='line'>  <span class="k">def</span> <span class="n">race</span><span class="o">()</span><span class="k">:</span><span class="kt">String</span>
</span><span class='line'>  <span class="k">def</span> <span class="n">actor</span><span class="o">()</span><span class="k">:</span><span class="kt">String</span>
</span><span class='line'>  <span class="k">def</span> <span class="n">save</span><span class="o">()</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Then I created the following objects.</p>

<p><strong>Java Object</strong></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">far</span><span class="o">.</span><span class="na">scape</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.far.scape.scala.Cast</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//public class Kadargo implements JavaCast {</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Kadargo</span> <span class="kd">implements</span> <span class="n">Cast</span> <span class="o">{</span>
</span><span class='line'>    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="n">name</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">save</span><span class="o">(){</span>
</span><span class='line'>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;in java save&quot;</span><span class="o">);</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">public</span> <span class="n">String</span> <span class="nf">race</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="s">&quot;I am Luxan&quot;</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">public</span> <span class="n">String</span> <span class="nf">actor</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="s">&quot;Anthony Simcoe&quot;</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>Scala Object</strong></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="k">package</span> <span class="nn">com.far.scape.scala</span>
</span><span class='line'><span class="c1">//import com.far.scape.JavaCast</span>
</span><span class='line'><span class="c1">//class Crichton extends JavaCast  {</span>
</span><span class='line'><span class="k">class</span> <span class="nc">Crichton</span> <span class="k">extends</span> <span class="nc">Cast</span>  <span class="o">{</span>
</span><span class='line'>  <span class="k">var</span> <span class="n">name</span> <span class="k">=</span> <span class="s">&quot;&quot;</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="n">save</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">println</span><span class="o">(</span><span class="s">&quot;in scala save&quot;</span><span class="o">)</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="n">race</span><span class="o">()</span><span class="k">:</span><span class="kt">String</span> <span class="o">=</span> <span class="o">{</span>
</span><span class='line'>    <span class="s">&quot;Frelling Human!&quot;</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>   <span class="k">def</span> <span class="n">actor</span><span class="o">()</span><span class="k">:</span><span class="kt">String</span> <span class="o">=</span> <span class="o">{</span>
</span><span class='line'>    <span class="s">&quot;Ben Browder&quot;</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>Groovy Object</strong></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">far</span><span class="o">.</span><span class="na">scape</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.far.scape.scala.Cast</span>
</span><span class='line'><span class="c1">//class Chiana implements JavaCast {</span>
</span><span class='line'><span class="kd">class</span> <span class="nc">Chiana</span> <span class="kd">implements</span> <span class="n">Cast</span> <span class="o">{</span>
</span><span class='line'>  <span class="n">String</span> <span class="n">name</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">String</span> <span class="nf">race</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>    <span class="s2">&quot;I am Nebari&quot;</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">String</span> <span class="nf">actor</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>    <span class="s2">&quot;Gigi Egdley&quot;</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="kt">void</span> <span class="nf">save</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">println</span> <span class="s2">&quot;in groovy save&quot;</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>One thing to note is that the directory structure matters.  There is a bug
with the scala grails plugin at the time I wrote this post with grails 1.3.5+
and scala plugin 0.5.  I had to go into the scala plugin Events.groovy code
and comment out the following line:</p>

<p><em><strong>//addScalaToCompileSrcPaths(compileBinding)</strong></em></p>

<p>I found the following note on the now-depreciated plugin page (not sure why this is gone now since the version didn&rsquo;t change).</p>

<p>NOTES: current 0.5 version seems incompatible with <strong>Grails</strong> 1.3 As quick and dirty fix we do the following to the installed script scala-0.5/scripts/Events.groovy:</p>

<pre><code>* comment out //addScalaToCompileSrcPaths(compileBinding)
* then we have to put scala sources under src/java (src/scala is not usable)
</code></pre>

<p>I have all my scala code under src/java/com/far/scape/scala.  I decided to put
it in a dir under the package named scala so it was easier to differentiate.</p>

<p>I created a regular grails service under grails-app/services/[package-
name]/GrailsService.groovy.  I mocked up a save method on the interface and
put an implementation in each class.  Ideally I will be able to actually
persist the objects, but for now I just used save on the interface to see how
well the trait worked across java, scala and groovy.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">far</span><span class="o">.</span><span class="na">scape</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.far.scape.scala.Cast</span>
</span><span class='line'>
</span><span class='line'><span class="kd">class</span> <span class="nc">GrailsService</span> <span class="o">{</span>
</span><span class='line'>    <span class="kd">static</span> <span class="n">transactional</span> <span class="o">=</span> <span class="kc">true</span>
</span><span class='line'>
</span><span class='line'>    <span class="kt">def</span> <span class="nf">saveObject</span><span class="o">(</span><span class="n">Cast</span> <span class="n">cast</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>      <span class="n">println</span> <span class="s2">&quot;Grails Service saving object ${cast.class.name}&quot;</span>
</span><span class='line'>      <span class="n">cast</span><span class="o">.</span><span class="na">save</span><span class="o">()</span>
</span><span class='line'>      <span class="kc">true</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Testing The Code</h2>

<p>I wrote a really simply integration test to pass all the object types to the
grails service saveObject method.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">far</span><span class="o">.</span><span class="na">scape</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">grails.test.GrailsUnitTestCase</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.far.scape.scala.Crichton</span>
</span><span class='line'>
</span><span class='line'><span class="kd">class</span> <span class="nc">GrailsServiceTests</span> <span class="kd">extends</span> <span class="n">GrailsUnitTestCase</span> <span class="o">{</span>
</span><span class='line'>  <span class="kt">def</span> <span class="n">grailsService</span>
</span><span class='line'>
</span><span class='line'>  <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">setUp</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">setUp</span><span class="o">()</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">tearDown</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">tearDown</span><span class="o">()</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="kt">void</span> <span class="nf">testSaveGroovyObject</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>    <span class="kt">def</span> <span class="n">chiana</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Chiana</span><span class="o">(</span><span class="nl">name:</span> <span class="s2">&quot;Chiana&quot;</span><span class="o">)</span>
</span><span class='line'>    <span class="n">assertTrue</span> <span class="n">grailsService</span><span class="o">.</span><span class="na">saveObject</span><span class="o">(</span><span class="n">chiana</span><span class="o">)</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="kt">void</span> <span class="nf">testSaveJavaObject</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>    <span class="kt">def</span> <span class="n">kadargo</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Kadargo</span><span class="o">(</span><span class="nl">name:</span> <span class="s2">&quot;Ka&#39;Dargo&quot;</span><span class="o">)</span>
</span><span class='line'>    <span class="n">assertTrue</span> <span class="n">grailsService</span><span class="o">.</span><span class="na">saveObject</span><span class="o">(</span><span class="n">kadargo</span><span class="o">)</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="kt">void</span> <span class="nf">testSaveScalaObject</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>    <span class="kt">def</span> <span class="n">crichton</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Crichton</span><span class="o">(</span><span class="nl">name:</span> <span class="s2">&quot;Crichton&quot;</span><span class="o">)</span>
</span><span class='line'>    <span class="n">assertTrue</span> <span class="n">grailsService</span><span class="o">.</span><span class="na">saveObject</span><span class="o">(</span><span class="n">crichton</span><span class="o">)</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>To run the integration tests execute the command below.  The -echoOut is to
show the output from any print statements you have in your tests.</p>

<pre><code>grails test-app -echoOut
</code></pre>

<p>Here is the result</p>

<p><a href="http://build.christianoestreich.com/wp-content/uploads/2011/04/test_output_save.png"><img src="http://build.christianoestreich.com/wp-content/uploads/2011/04/test_output_save.png" title="Testing Mock Save" alt="Testing Mock Save" /></a></p>

<p>I played around a bit with creating a scala service.  I was able to get it
working as a standard manually created bean, but didn&rsquo;t get the auto-
wiring/injection of the scala service working in the integration tests.
Granted, I didn&rsquo;t try that hard as I wanted to make that a topic of another
post.</p>

<h2>Client Side Code</h2>

<p>I also added a simple controller and view to test adding different objects to
gsp page.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="kn">package</span> <span class="n">grails</span><span class="o">.</span><span class="na">scala</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.far.scape.Chiana</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.far.scape.scala.Crichton</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.far.scape.Kadargo</span>
</span><span class='line'>
</span><span class='line'><span class="kd">class</span> <span class="nc">MoyaController</span> <span class="o">{</span>
</span><span class='line'>    <span class="kt">def</span> <span class="n">index</span> <span class="o">=</span> <span class="o">{</span>
</span><span class='line'>      <span class="kt">def</span> <span class="n">characters</span> <span class="o">=</span> <span class="o">[</span><span class="k">new</span> <span class="n">Chiana</span><span class="o">(),</span> <span class="k">new</span> <span class="n">Kadargo</span><span class="o">(),</span> <span class="k">new</span> <span class="n">Crichton</span><span class="o">()].</span><span class="na">asList</span><span class="o">()</span>
</span><span class='line'>      <span class="o">[</span><span class="nl">view:</span><span class="s2">&quot;index&quot;</span><span class="o">,</span><span class="s2">&quot;characters&quot;</span><span class="o">:</span><span class="n">characters</span><span class="o">]</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Then I created an index.gsp under grails-app/views/moya.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;html&gt;</span>
</span><span class='line'><span class="nt">&lt;body&gt;</span>
</span><span class='line'><span class="nt">&lt;g:each</span> <span class="na">in=</span><span class="s">&quot;${characters}&quot;</span> <span class="na">var=</span><span class="s">&quot;character&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>${character.class.name}<span class="nt">&lt;br&gt;</span>
</span><span class='line'>${character.race()}<span class="nt">&lt;br&gt;</span>
</span><span class='line'>${character.actor()}<span class="nt">&lt;br&gt;</span>
</span><span class='line'><span class="nt">&lt;p&gt;&lt;/p&gt;</span>
</span><span class='line'><span class="nt">&lt;/g:each&gt;</span>
</span><span class='line'><span class="nt">&lt;/body&gt;</span>
</span><span class='line'><span class="nt">&lt;/html&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>This should render the following:</p>

<p><a href="http://build.christianoestreich.com/wp-content/uploads/2011/04/groovy-scala-view.png"><img src="http://build.christianoestreich.com/wp-content/uploads/2011/04/groovy-scala-view.png" title="Output View" alt="Output View" /></a></p>

<p>All the <a href="https://github.com/ctoestreich/grails-scala" title="Source Code">source code</a> for this can be found at GitHub.</p>

<p>Happy Coding.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/2011/04/tuesday-night-worlds-4122010/">Tuesday Night Worlds - 4/12/2010</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2011-04-13T23:34:16+00:00" pubdate data-updated="true">Apr 13<span>th</span>, 2011</time>
        
         | <a href="/2011/04/tuesday-night-worlds-4122010/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>As a member of the <a href="http://www.optumhealthperformance.com/" title="OptumHealth Performance">OptumHealth Performance</a> road racing team, we did our
first criterium Tuesday night.  It was the <a href="http://www.loonstate.org/" title="Tuesday Night Worlds">Tuesday Night Worlds</a> in the
Opus complex.  You can view the course at Map My Ride <a href="http://www.mapmyride.com/routes/view/406363" title="Map My Ride">course map</a>.</p>

<p>Our strategy was to stay in the top 25% of the group and ride strong.  Things
went as planned for the first two laps.  After that, Patrick was on his own
and rode the remainder of the race out in the front group.  It was an amazing
effort by the whole team for our first criterium showing.</p>

<p>Mitch dropped a chain on the first lap and was left on his own in no-mans-land
for 5 or so laps until the group caught him again.  He grabbed back onto the
group and hung strong through the rest of the race.</p>

<p>After the race we thought Colin and Patrick both both received points for
sprints, but it turns out that all their efforts will in vein as they sprinted
a lap early every time.  Now that we understand WHEN the sprints are we hope
to get points for some of the riders next race.</p>

<p>The biggest surprise was Chris Frykman who, before Tuesday, I had only met on
Facebook and heard about through the teammates.  He pulled like a locomotive
up the hills in what I think was his 53x12 gear.  He was a power climbing
machine.</p>

<p>My race went off without a hitch.  I led out the first lap and dropped back
after the second and faded off the lead group into the second group.  I think
I spent too much too early and eventually was playing yo-yo off the back of
that group.  I finished just off the second group.  I sat up more than I
should have, but after Patrick and the lead group were out of sight I was just
trying to find some relief from the pain in my legs and lungs.  I am still
dislodging phlegm from my lungs that apparently accumulated over the winter.
I haven&rsquo;t ever wheezed like this for so long after a race.  I think that is a
testament on how hard we were riding.</p>

<p>I did a quick graph for the speed of the riders per lap. <em>Mitch&rsquo;s data for lap
5 is missing due to being caught by the group on that lap so I skipped him
even with the group.</em></p>

<p><img src="http://chart.apis.google.com/chart?chxr=0,1,9|1,15,25&amp;chxt=x,y&amp;chs=500" alt="Speed By Lap" /></p>

<p>x400&amp;cht=lxy&amp;chco=3072F3,FF0000,FF9900,66AA00,FF9999&amp;chds=1,9,15,25,1,9,15,25,
1,9,15,25,1,9,15,25,1,9,15,25&amp;chd=t:1,2,3,4,5,6,7,8,9|21.9,22.9,21.9,20.4,20.6
,20,19.8,19.1,19.2|1,2,3,4,5,6,7,8,9|22,23.5,21.9,21,21.8,20.8,20.4,21.8,20.5|
1,2,3,4,5,6,7,8,9|20.7,18.1,17.2,17.2,0,17.1,19,19.5,20.4|1,2,3,4,5,6,7,8,9|22
,23.1,22,20.4,20.3,20.6,19.7,19.4,20.8|1,2,3,4,5,6,7,8,9|22,24,20.9,20.6,20.7,
19.9,19.7,20,20.7&amp;chdl=Christian|Patrick|Mitch|Chris|Colin&amp;chdlp=b&amp;chg=0,0,0,0
&amp;chls=1|1|1|1|1&amp;chma=5,5,5,25&amp;chtt=Speed+By+Lap</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/2011/03/jenkins-upgrade-script/">Jenkins Upgrade Script</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2011-03-30T07:39:36+00:00" pubdate data-updated="true">Mar 30<span>th</span>, 2011</time>
        
         | <a href="/2011/03/jenkins-upgrade-script/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I got really tired of manually upgrading <a href="http://jenkins-ci.org/" title="Jenkins CI">Jenkins</a> on my build server so I
wrote a little bash script to do it for me.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#!/bin/bash
</span><span class='line'> echo "stopping tomcat"
</span><span class='line'> sh /etc/init.d/tomcat6 stop
</span><span class='line'> cd /var/lib/tomcat6/webapps
</span><span class='line'> echo "removing jenkins"
</span><span class='line'> rm -rf jenkins
</span><span class='line'> rm -rf jenkins.war
</span><span class='line'> echo "downloading latest jenkins"
</span><span class='line'> wget http://mirrors.jenkins-ci.org/war/latest/jenkins.war
</span><span class='line'> echo "starting tomcat"
</span><span class='line'> sh /etc/init.d/tomcat6 start
</span><span class='line'> cd ~
</span><span class='line'> echo "done"</span></code></pre></td></tr></table></div></figure>


<p>I call mine upgrade.sh.  Make sure to set the permissions on the file to
something executable; I set mine to chmod 775.  Then you can run this by
typing the following line.  It should be run with elevated permissions so it
can interact with processes like starting and stopping the server.</p>

<pre><code>$  sudo ./upgrade.sh
</code></pre>

<p>You may have to tweak the locations to suit your needs.  Another thing you may
want to do is move your jenkins folder instead of removing it, but since
config is stored else where you should be okay to just remove the web app and
put the new war in it&rsquo;s place.</p>

<p>This script assumes you are running <a href="http://jenkins-ci.org/" title="Jenkins CI">Jenkins</a> under <a href="http://tomcat.apache.org/" title="Apache Tomcat">Tomcat</a> and not
standalone.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/2011/03/jquery-page-timeout-widget/">jQuery Timeout Dialog Widget</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2011-03-26T20:24:24+00:00" pubdate data-updated="true">Mar 26<span>th</span>, 2011</time>
        
         | <a href="/2011/03/jquery-page-timeout-widget/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The code for the plugin is available over on <a href="https://github.com/ctoestreich/jquery-timeoutdialog" title="jquery timeoutdialog widget">Github &ndash; jQuery Timeout Dialog Widget</a>.</p>

<p>I was looking into what was available for making a browser idle timer that
would redirect the user to a logoff page.  I really liked the work that was
done by <a href="http://paulirish.com/" title="Paul Irish">Paul Irish</a> on his <a href="http://paulirish.com/2009/jquery-idletimer-plugin/" title="idle timer">idleTimer plugin</a> as well as <a href="http://www.erichynds.com/" title="Eric Hynd">Eric Hynd</a>
on his <a href="http://www.erichynds.com/jquery/a-new-and-improved-jquery-idle-timeout-plugin/" title="Idle Timeout Plugin">Idle Timeout Plugin</a>.  The first thing I did was put their code
onto our site.   It was pretty easy to hook up and get working.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/2011/03/jquery-page-timeout-widget/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/2011/03/page-masking-with-jquery/">Page Masking With jQuery</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2011-03-09T10:01:08+00:00" pubdate data-updated="true">Mar 9<span>th</span>, 2011</time>
        
         | <a href="/2011/03/page-masking-with-jquery/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>As I mentioned in my last post we are trying to move to <a href="http://www.jquery.com" title="jquery">jQuery</a> as a
scripting solution over ExtJS or straight JavaScript.  When we wrote our
application we were using ExtJS to do a mask on the page during a form
submission so the user could have some useful feedback as to what was
happening.</p>

<p>Here is the code that we wrote to do page masking.  In the form tag we simply
put an onsubmit=&ldquo;doLoadingMask()&rdquo; and the mask is rendered to the page into
the div with id=&ldquo;loading-mask&rdquo; that wraps all of the page content.  This stops
the user from trying to click around and lets them know that something really
happened when they clicked the button as not all users look to the browser
icons spinning or status bar for details.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">function</span> <span class="nx">doLoadingMask</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">doLoadingMaskText</span><span class="p">(</span><span class="s1">&#39;Loading...&#39;</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kd">function</span> <span class="nx">doLoadingMaskText</span><span class="p">(</span><span class="nx">loadingText</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">Ext</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;loading-mask&quot;</span><span class="p">).</span><span class="nx">mask</span><span class="p">(</span><span class="nx">loadingText</span><span class="p">,</span> <span class="s1">&#39;x-mask-loading&#39;</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>We ran into a problem that occurred very infrequent that would cause the form
submit to hang for a long time&hellip; or indefinitely.  With the mask remaining on
the screen the entire time and having the user blocked from interacting with
the page, this was a problem.  So I rewrote the code to be &ldquo;error/timeout&rdquo;
friendly in that it disappears after 30 seconds and the user can either
reattempt the action of leave the page and come back.  The 30 second timeout
does not stop the form submission from attempting to continue so given they
leave it alone long enough it still might complete after the mask disappears.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">function</span> <span class="nx">doLoadingMask</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">doLoadingMaskText</span><span class="p">(</span><span class="s1">&#39;Loading...&#39;</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kd">var</span> <span class="nx">maskInterval</span><span class="p">;</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">maskTimeout</span> <span class="o">=</span> <span class="mi">30</span><span class="p">;</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">maskLoop</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="kd">function</span> <span class="nx">doLoadingMaskText</span><span class="p">(</span><span class="nx">loadingText</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">Ext</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;loading-mask&quot;</span><span class="p">).</span><span class="nx">mask</span><span class="p">(</span><span class="nx">loadingText</span><span class="p">,</span> <span class="s1">&#39;x-mask-loading&#39;</span><span class="p">);</span>
</span><span class='line'>    <span class="nx">maskLoop</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">maskInterval</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">setInterval</span><span class="p">(</span><span class="nx">maskUpdater</span><span class="p">,</span> <span class="mi">1000</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kd">function</span> <span class="nx">undoLoadingMask</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">Ext</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;loading-mask&quot;</span><span class="p">).</span><span class="nx">unmask</span><span class="p">();</span>
</span><span class='line'>    <span class="nx">clearInterval</span><span class="p">(</span><span class="nx">maskInterval</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kd">function</span> <span class="nx">maskUpdater</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">if</span><span class="p">(</span><span class="nx">maskLoop</span> <span class="o">&gt;=</span> <span class="nx">maskTimeout</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">undoLoadingMask</span><span class="p">();</span>
</span><span class='line'>    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">if</span><span class="p">(</span><span class="nx">maskLoop</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="nx">Ext</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;loading-mask&quot;</span><span class="p">).</span><span class="nx">mask</span><span class="p">(</span><span class="s2">&quot;Waiting... &quot;</span> <span class="o">+</span> <span class="p">(</span><span class="nx">maskTimeout</span> <span class="o">-</span> <span class="nx">maskLoop</span><span class="p">),</span> <span class="s1">&#39;x-mask-loading&#39;</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="nx">maskLoop</span><span class="o">++</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>This simply adds a 1 second interval call to invoke the maskUpdater and when
the timeout is reached it just unloads the mask.  It also updates the mask
with a &ldquo;Waiting&hellip; [time]&rdquo; every 5 seconds.</p>

<p>This solved the &ldquo;infinite&rdquo; mask problem and was, IMHO, a pretty simple
solution.  After looking at the overall size of our ExtJS vs jQuery base +
extensions, it was immediately clear that we wanted to get rid of as much of
ExtJS as possible.  The 175k min file ext-all isn&rsquo;t even the whole ExtJS
library.  It is only the components we are using while the jQuery is the full
caboodle.  The partial archaic file names are due to us using a JavaScript
file compressor.</p>

<p><a href="http://www.christianoestreich.com/2011/03/page-masking-with-jquery/js_size/"><img src="http://www.christianoestreich.com/wp-content/uploads/2011/03/js_size.png" title="Javascript File Size" alt="" /></a></p>

<p>Every time I come across code written in ExtJS I rewrite it in jQuery.  Here
is the same code as above using jQuery and jQuery UI to accomplish the same
thing. We use a slightly different setup for the div as it doesn&rsquo;t have to
encompass the while page content. I just put this after the body tag</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;loadingMask&quot;</span> <span class="na">style=</span><span class="s">&quot;display:none&quot;</span><span class="nt">&gt;&lt;p</span> <span class="na">align=</span><span class="s">&quot;center&quot;</span><span class="nt">&gt;&lt;img</span> <span class="na">src=</span><span class="s">&quot;/icue/images/loading.gif&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;span</span> <span class="na">id=</span><span class="s">&quot;message&quot;</span><span class="nt">&gt;</span>submitting data...<span class="nt">&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>with this JavaScript</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'>        <span class="kd">var</span> <span class="nx">maskInterval</span><span class="p">;</span>
</span><span class='line'>        <span class="kd">var</span> <span class="nx">maskTimeout</span> <span class="o">=</span> <span class="mi">30</span><span class="p">;</span>
</span><span class='line'>        <span class="kd">var</span> <span class="nx">maskLoop</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span><span class='line'>        <span class="kd">function</span> <span class="nx">maskUpdater</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">if</span><span class="p">(</span><span class="nx">maskLoop</span> <span class="o">&gt;=</span> <span class="nx">maskTimeout</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                <span class="nx">undoLoadingMask</span><span class="p">();</span>
</span><span class='line'>            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>                <span class="k">if</span><span class="p">(</span><span class="nx">maskLoop</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#loadingMask&quot;</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s2">&quot;#message&quot;</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="s2">&quot;waiting... &quot;</span> <span class="o">+</span> <span class="p">(</span><span class="nx">maskTimeout</span> <span class="o">-</span> <span class="nx">maskLoop</span><span class="p">));</span>
</span><span class='line'>                <span class="p">}</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>            <span class="nx">maskLoop</span><span class="o">++</span><span class="p">;</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="kd">function</span> <span class="nx">doLoadingMask</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>            <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#loadingMask&quot;</span><span class="p">).</span><span class="nx">dialog</span><span class="p">({</span>
</span><span class='line'>                <span class="nx">modal</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span class='line'>                <span class="nx">width</span><span class="o">:</span> <span class="mi">200</span><span class="p">,</span>
</span><span class='line'>                <span class="nx">height</span><span class="o">:</span> <span class="mi">110</span><span class="p">,</span>
</span><span class='line'>                <span class="nx">position</span><span class="o">:</span> <span class="p">[(</span><span class="nb">window</span><span class="p">.</span><span class="nx">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">),</span><span class="mi">100</span><span class="p">],</span>
</span><span class='line'>                <span class="nx">closeOnEscape</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
</span><span class='line'>                <span class="nx">resizable</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
</span><span class='line'>                <span class="nx">open</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">ui</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.ui-dialog-titlebar-close&quot;</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
</span><span class='line'>                    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.ui-dialog-titlebar&quot;</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
</span><span class='line'>                    <span class="nx">maskLoop</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span><span class='line'>                    <span class="nx">maskInterval</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(</span><span class="nx">maskUpdater</span><span class="p">,</span> <span class="mi">1000</span><span class="p">);</span>
</span><span class='line'>                <span class="p">}</span>
</span><span class='line'>            <span class="p">});</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="kd">function</span> <span class="nx">undoLoadingMask</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>            <span class="nx">clearInterval</span><span class="p">(</span><span class="nx">maskInterval</span><span class="p">);</span>
</span><span class='line'>            <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#loadingMask&quot;</span><span class="p">).</span><span class="nx">dialog</span><span class="p">(</span><span class="s2">&quot;close&quot;</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>The setup for the dialog is a little more lengthy than the ExtJS version, but
we have more control around the look and feel of the message box.  The open
event override is setting the timer and also hiding the title and close bars.</p>

<p>For this jQuery to work you will need to include both jQuery base and the UI
javascript with at least the dialog and base ui in it.</p>

<p>The old mask (content blacked/grayed out for security reasons)</p>

<p><a href="http://www.christianoestreich.com/2011/03/page-masking-with-jquery/js_oldmask/"><img src="http://www.christianoestreich.com/wp-content/uploads/2011/03/js_oldmask.png" title="Old Mask" alt="" /></a>The new mask both off and on</p>

<p><a href="http://www.christianoestreich.com/2011/03/page-masking-with-jquery/js_maskoff/"><img src="http://www.christianoestreich.com/wp-content/uploads/2011/03/js_maskoff.png" title="Mask Off" alt="" /></a></p>

<p><a href="http://www.christianoestreich.com/wp-content/uploads/2011/03/js_maskon.png"><img src="http://www.christianoestreich.com/wp-content/uploads/2011/03/js_maskon.png" title="Mask On" alt="" /></a></p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/5/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/3/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2013/12/knockout-validation-rules-engine/">Knockout Validation Rules Engine</a>
      </li>
    
      <li class="post">
        <a href="/2013/07/grails-plugin-template-override/">Grails Plugin Template Override</a>
      </li>
    
      <li class="post">
        <a href="/2013/05/travis-ci-grails-gvm/">Travis CI & Grails GVM</a>
      </li>
    
      <li class="post">
        <a href="/2013/01/wss4j-simple-security-using-wslite/">WSS4J Simple Security Using Groovy WSLite</a>
      </li>
    
      <li class="post">
        <a href="/2012/12/coffeescript-ant-task-updated/">CoffeeScript Ant Task Updated</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/ctoestreich">@ctoestreich</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'ctoestreich',
            count: 10,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>

</section>




<section>
  <h1>GitHub Repos</h1>
  <ul id="gh2_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/Grails-Plugin-Consortium">@Grails-Plugin-Consortium</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'Grails-Plugin-Consortium',
            count: 10,
            skip_forks: true,
            target: '#gh2_repos'
        });
    });
  </script>
</section>


  <script src="/javascripts/github.js" type="text/javascript"> </script>




  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Christian Oestreich -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'christianoestreich';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
